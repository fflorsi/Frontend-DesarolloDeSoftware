<div class="total-wrapper" [class.open]="isCartOpen">
    <div class="sidecart-total">
        <div class="side-cart-header">
            <h4 class="text-header">Your Cart</h4>
            <img class="img" src="../assets/close-btn.png" (click)="closeCart()">
        </div>
        <div *ngIf="items && items.length > 0; else emptyCart">
            <div class="product-list">
                <div class="hola" *ngFor="let item of items">
                    <div class="product-wrapper">
                        <div class="product-details">
                            <img class="product-image" src="assets/top-view-pet-accessories-yllow.jpg" alt="product image">
                            <div class="product-price-delete">
                                <p class="product-name">{{ item.name }}</p>
                                <p class="product-price">{{ item.price * (item.quantity || 1) | currency: 'ARS' }}</p>
                                <p class="delete-from-cart" (click)="deleteProduct(item.id)">Eliminar</p>
                            </div>
                            <div class="product-quantity">
                                <input class="product-quantity-input" type="number" [(ngModel)]="item.quantity" min="1" required pattern="^[1-9][0-9]*$" (change)="updateQuantity(item.id, item.quantity)">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="side-cart-footer">
                <div class="total">
                    <p class="product-price">Subtotal</p>
                    <p class="price">{{ total | currency: 'ARS' }}</p>
                </div>
                <a href="/cart" class="button-co">Checkout</a>
            </div>
        </div>
        <ng-template #emptyCart>
            <div class="side-cart-empty">
                <h4 class="text">No items found</h4>
                <a href="/productShop" class="button">Productos</a>
            </div>
        </ng-template>
    </div>
</div>